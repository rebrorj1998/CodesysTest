{"payload":{"meta":{"Graph":{"@Type":"81297157","@Value":{"Guid":"(Guid)f69a6abf-6691-4e98-8c28-fcd2e577d7b5","ParentGuid":"(Guid)7005310d-b120-4936-a828-3693f92ca107","Name":"(string)PRG_MainProgram","Properties":{"@Type":"2c41fa04:IDictionary","@Value":[{"@Key":"(Guid)829a18f2-c514-4f6e-9634-1df173429203","@Value":{"@Type":"829a18f2","@Value":{"ParentObjects":{"@Type":"fa2ee218:IDictionary","@Value":[{"@Key":"(Guid)d9b2b2cc-ea99-4c3b-aa42-1e5c49e65b84","@Value":"(Guid)c9c27384-9013-48c1-8e63-d2921de84879"}]}}}}]},"TypeGuid":"(Guid)6f9dac99-8de1-4efc-8465-68ac443b7d08","EmbeddedTypeGuids":{"@Type":"[Guid]","@Value":["(Guid)a9ed5b7e-75c5-4651-af16-d2c27e98cb94","(Guid)3b83b776-fb25-43b8-99f2-3c507c9143fc"]}}},"TypeInfos":{"2c41fa04":"{2c41fa04-1834-41c1-816e-303c7aa2c05b}","81297157":"{81297157-7ec9-45ce-845e-84cab2b88ade}","829a18f2":"{829a18f2-c514-4f6e-9634-1df173429203}","fa2ee218":"{fa2ee218-a39b-4b6d-b249-49dbddbd168a}","Guid":"System.Guid","string":"System.String"}},"object":{"Graph":{"@Type":"6f9dac99","@Value":{"SpecialFunc":{"@Type":"0db3d7bb:Enum","@Value":"None"},"Implementation":{"@Type":"3b83b776","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)//    Program: Main (PLC_PRG)\n//    Description: This program serves as a base for the MOAB Prototype\n//    Created by: Ben Hess\n//    Created Date: January 16th, 2018\n\nprintDeltaTimer(IN := oPrinterStartPrint);\nsaveParametersTimer(IN := NOT saveParametersTimer.Q AND HMIData.bagsMade.count <> 0);\nIF saveParametersTimer.Q THEN\n\tsaveParametersTimer.IN := FALSE;\n\tSaveValuesPeriodic();\nEND_IF\n\nIF testCreate THEN\n \ttestCreate := FALSE;\n\tSaveValues();\nEND_IF\n\nIF testRead THEN\n \ttestRead := FALSE;\n\tRecallValues();\nEND_IF\n\n// \n// CSVWriter(\n// \txFilePath:= , \n// \txText_Write:= , \n// \txAppend_OverWrite:= TRUE, \n// \txAppend_Pos:= , \n// \txWrite:= , \n// \txRead:= , \n// \txLine_No_To_Read:= , \n// \txText_Read=> , \n// \txDone=> );\n// IF CSVWriter.xDone THEN\n// \tCSVWriter.xWrite := FALSE;\n// END_IF\n\nctfb(ct_max => cycleTimeMax);\ncycleTimeMaxDINT := TIME_TO_DINT(cycleTimeMax);\nprofileThis := TIME_TO_DINT(ctfb.ct_last) >= 25;\n// Run other programs\n//PRG_PneumaticHead();\nPRG_Bagger();\nversionInfo := GetVersion();\nHMIData.version := Standard.CONCAT(TO_STRING(versionInfo.uiMajor),'.');\n\tBPLog.AppendToString(ADR(HMIData.version), CONCAT(TO_STRING(versionInfo.uiMinor),'.'));\n\tBPLog.AppendToString(ADR(HMIData.version), CONCAT(TO_STRING(versionInfo.uiServicePack),'.'));\n\tBPLog.AppendToString(ADR(HMIData.version), TO_STRING(versionInfo.uiPatch));\n\tBPLog.AppendToString(ADR(HMIData.version), TO_STRING(GetTextProperty(\"VersionPostfix\")));\n\t\n//Set maximum passthrough based on model selection\nCASE HMIData.baggerModelSelection OF\n\tModelSelection.Pro18_1174,\n\tModelSelection.Pro18_1183:\n\t\t Globals.maximumPassthough := Globals.MAXIMUM_PASSTHROUGH_PRO18;\n\t\t\t  \n\tModelSelection.Pro24_1182,\n\tModelSelection.Pro24_1196:\n\t\t Globals.maximumPassthough := Globals.MAXIMUM_PASSTHROUGH_PRO24;\t\t  \nEND_CASE\n\n// Perform functions on first scan\nIF NOT firstScanDone THEN\n\tGlobalObjects.CollectionOfLoggable.RegisterAll(internalLogger := Globals.SystemLog);\n\tGlobalObjects.CollectionOfInitialzable.InitializeAll();\n\tfirstScanDone := TRUE;\n\t // After first scan turn off flag set by StartDone system event\n\tGlobals.firstScan := FALSE;\t\nEND_IF\n\n// Start executing objects that implement IExecuteAutomatically \nIF firstScanDone THEN\n\tGlobalObjects.CollectionOfExecutable.ExecuteAll();\n\tGlobals.SystemLog();\nEND_IF\n\n\n\n\nIF HMIData.ackAllFaults THEN\n\tGlobalObjects.CollectionOfActiveFaults.AckAll();\n\tHMIData.ackAllFaults := FALSE;\nEND_IF\n\n\n//First scan flag is set by task handler and reset in main routine here\nIF Globals.firstScan THEN\n    Globals.firstScan := FALSE;\nEND_IF\n\ndisplayPassthroughChangeDistance := (UDINT_TO_REAL(Globals.passthroughChangeDistance) / 10);\ndisplayPassthroughChangeDistance2 := (UDINT_TO_REAL(Globals.passthroughChangeDistance2) / 10.0);","LineInfoPersistence":"(string)f69a6abf-6691-4e98-8c28-fcd2e577d7b5_Impl_LineIds"}}}},"Interface":{"@Type":"a9ed5b7e","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)PROGRAM PRG_MainProgram\nVAR\n    incrementSolenoidCounter1 : R_TRIG();\n    incrementSolenoidCounter2 : R_TRIG();\n    incrementSolenoidFailedCounter2 : R_TRIG();\n    GripperCycleCount : DINT; //Gripper Cycle Counter\n    runPrinterPB : BOOL;\n    cycleTimeMax : TIME;\n    cycleTimeMaxDINT : DINT;\n    ctfb : OSCAT_BASIC.CYCLE_TIME();\n    profileThis :BOOL;\n    solenoidState1 : SOLENOID_TEST_STATES;\n    solenoidState2 : SOLENOID_TEST_STATES;\n\tdisplayPassthroughChangeDistance : REAL;\n\tdisplayPassthroughChangeDistance2 : REAL;\n\tcheckSolenoid2ExtendTimer : TON := (PT := T#100MS);\n\tcheckedSolenoid2Status : BOOL;\n\tfirstScanDone : BOOL;\n\tprintDeltaTimer : TON := (PT := T#5S);\n\tlastPrinterDelta : TIME;\n\tendPrintOSF : Standard.R_TRIG;\n\t//CSVWriter : FB_WriteToFile() := (xFilePath := 'C:/printerDelta.csv');\n\tstringToLog : STRING;\n\ttestWrite : BOOL;\n\thmiLight : FB_HMILight;\n\tversionInfo : VERSION;\n\trecipieManager : Recipe_Management.RecipeManCommands;\n\trecipeName : STRING;\n\trecResult : DWORD;\n\ttestRead : BOOL;\n\ttestCreate : BOOL;\n\tsaveParametersTimer : Standard.TON := (PT := T#10M);\nEND_VAR","LineInfoPersistence":"(string)f69a6abf-6691-4e98-8c28-fcd2e577d7b5_Decl_LineIds"}}}},"UniqueIdGenerator":"(string)1577","POULevel":{"@Type":"8e575c5b:Enum","@Value":"Standard"},"ChildObjectGuids":{"@Type":"ArrayList:IList","@Value":[]},"AddAttributeSubsequent":"(bool)False"}},"TypeInfos":{"0db3d7bb":"{0db3d7bb-cde0-4416-9a7b-ce49a0124323}","3b83b776":"{3b83b776-fb25-43b8-99f2-3c507c9143fc}","6f9dac99":"{6f9dac99-8de1-4efc-8465-68ac443b7d08}","8e575c5b":"{8e575c5b-1d37-49c6-941b-5c0ec7874787}","a9ed5b7e":"{a9ed5b7e-75c5-4651-af16-d2c27e98cb94}","ArrayList":"System.Collections.ArrayList","bool":"System.Boolean","f3878285":"{f3878285-8e4f-490b-bb1b-9acbb7eb04db}","string":"System.String"}}},"FormatVersion":"1.0"}