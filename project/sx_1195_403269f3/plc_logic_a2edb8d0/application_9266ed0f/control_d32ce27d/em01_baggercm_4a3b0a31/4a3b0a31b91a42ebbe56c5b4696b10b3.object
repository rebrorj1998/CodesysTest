{"payload":{"meta":{"Graph":{"@Type":"81297157","@Value":{"Guid":"(Guid)4a3b0a31-b91a-42eb-be56-c5b4696b10b3","ParentGuid":"(Guid)9266ed0f-7f1e-4370-8ffa-55b419b1a46d","Name":"(string)EM01_BaggerCM","Properties":{"@Type":"2c41fa04:IDictionary","@Value":[{"@Key":"(Guid)829a18f2-c514-4f6e-9634-1df173429203","@Value":{"@Type":"829a18f2","@Value":{"ParentObjects":{"@Type":"fa2ee218:IDictionary","@Value":[{"@Key":"(Guid)d9b2b2cc-ea99-4c3b-aa42-1e5c49e65b84","@Value":"(Guid)d32ce27d-0999-44dc-9670-af8f2be3faec"}]}}}}]},"TypeGuid":"(Guid)6f9dac99-8de1-4efc-8465-68ac443b7d08","EmbeddedTypeGuids":{"@Type":"[Guid]","@Value":["(Guid)a9ed5b7e-75c5-4651-af16-d2c27e98cb94","(Guid)3b83b776-fb25-43b8-99f2-3c507c9143fc"]}}},"TypeInfos":{"2c41fa04":"{2c41fa04-1834-41c1-816e-303c7aa2c05b}","81297157":"{81297157-7ec9-45ce-845e-84cab2b88ade}","829a18f2":"{829a18f2-c514-4f6e-9634-1df173429203}","fa2ee218":"{fa2ee218-a39b-4b6d-b249-49dbddbd168a}","Guid":"System.Guid","string":"System.String"}},"object":{"Graph":{"@Type":"6f9dac99","@Value":{"SpecialFunc":{"@Type":"0db3d7bb:Enum","@Value":"None"},"Implementation":{"@Type":"3b83b776","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)\n_driveState := AZD4A_KED.GetDeviceState();\n_axisCommsStatus := NOT (_driveState <> DED.DEVICE_STATE.RUNNING);\n\njawFrontMotor(\n\taxisData := AxisData.jaw,\n\tjogProfile := AxisData.jawJogMotionProfile,\n\tcommStatus := TRUE,\n\tiActualPosition := iFrontJawAxisPositionActualValue,\n\tiActualVelocity := iFrontJawAxisVelocityActualValue,\n\tiErrorCode := iFrontJawAxisErrorcode,\n\tiModeOfOperation := iFrontJawAxisModesOfOperationDisplay,\n\tiStatusword := iFrontJawAxisStatusword,\n\toControlword => oFrontJawAxisControlword,\n\toModeOfOperation => oFrontJawAxisModesOfOperation,\n\toTargetPosition => oFrontJawAxisTargetPosition,\n\toProfileAcceleration => oFrontJawAxisProfileAcceleration,\n\toProfileDeceleration => oFrontJawAxisProfileDeceleration,\n\toProfileVelocity => oFrontJawAxisProfileVelocity,\n\toProfilePushCurrent => oFrontJawAxisPushCurrent,\n\toProfileOperationalCurrent => oFrontJawAxisBaseCurrent,\n\tdefaultCurrent := 100.0,\n\tjogForwardCMD:= HMIData.jawJogOpen,\n\tjogReverseCMD:= HMIData.jawJogClosed,\n);\n\nhomeSensorCTU(CU := iClampHomeSensor);\n\nclampingMechanism(\n\tjogClosedCMD := HMIData.clampJogClosed,\n\tjogOpenCMD := HMIData.clampJogOpen,\n\tdriveAlarm:= not iPbarClampMotorAlarm, \n\thomeSensor:= iClampHomeSensor, \n\ttimeFromHomeToClamp:= T#500MS, \n\tmaximumClampingTime:= T#4.8S,\n\tmaximumReverseTime:= T#1500MS,\n\toStartMotor=> oPbarClampMotorStart, \n\toForwardMotor=> oPbarClampMotorReverse, \n\toResetDrive=> oPbarClampMotorAlarmReset, \n\tmaximumClampingTimeExceeded=> , \n\thomeSensorNotSeen=> , \n\treversing=> , \n\tstate=> );\n\t\nAxisDAta.jawOpenMotionProfile.position :=AxisData.jawJogMotionProfile.maxPosition := HMIData.passthroughSetting;\n\ndualMotorPassthrough(\n\tfrontMotor:= jawFrontMotor, \n\tcloseProfile:= AxisData.jawCloseMotionProfile, \n\topenProfile:= AxisData.jawOpenMotionProfile,\n\tpushProfile := AxisData.jawPushMotionProfile ,\n\tmoveInDelaySetting:= TO_TIME(HMIData.jawCloseDelay * 1000),\n\tpassthroughSetting:= HMIData.passthroughSetting, \n\tjawClosedSetting:= HMIData.jawClosePositionSetting, \n\tclampingMechanism := clampingMechanism,\n\tpressureBarClosedSensor:= NOT iClampHomeSensor, \n\t//pressureBarNearClosedSensor:= iJawNearClosed, \n\tobstructionSensor:= iJawNotObstructed, \n\topenJawPB:= HMIData.jawService.extendCommand, \n\tcloseJawPB:= HMIData.jawService.retractCommand, \n\tbeginJawTestMode:= HMIData.startJawCycleTest,\n\tstopJawTestMode:= HMIData.stopJawCycleTest,\n\tactualPositionInInches=> HMIData.passthroughActual,\n\tcurrentTestCycles=> HMIData.jawClampTestCycles,\n\tjawTestModeActive => HMIData.jawCycleTestActive,\n\tsetZero:= HMIData.frontJawMotorData.setPreset,\n\tclampBypass := HMIData.clampBypass,\n\tmotionInhibit := inhibitMotion\n\t\n);\ndualMotorPassthrough.OptionInstalled := TRUE;\ndualMotorPassthrough.OptionEnabled := TRUE;\n\nlabelPrinter(\n\tdryCycleEnable:=HMIData.dryCycleEnable,\n\tprintSpeed:= HMIData.printSpeed, \n\tprintLength:= HMIData.printLength, \n\tdataReadyInput:= iPrinterDataReady, \n\tserviceRequiredInput:= iPrinterServiceRequired AND iSafePowerOK, \n\tendOfPrintInput:= iPrinterBusy,\n\tprintHeadDownInput := oLowerPrinthead, \n\tribbonEncoderPulseInput:= iPrinterRibbonEncoder, \n\teStopOK := iSafePowerOK,\n\tcancelPrint := HMIData.printerCancelRequest,\n\tserviceRaisePrintHead:= HMIData.printHeadService.retractCommand, \n\tserviceLowerPrintHead:= HMIData.printHeadService.extendCommand,\n\tstartPrintOutput=> oRequestPrint, \n\tribbonUnwindRunOutput=> oPrinterRibbonUnwind,\n\tlowerPrintHeadOutput=> oLowerPrintHead\n);\nlabelPrinter.OptionInstalled := HMIData.printerInstalled;\nlabelPrinter.OptionEnabled := HMIData.printerInUse AND HMIData.printerInstalled;\n\t\nsealWire(simulateIO:= HMIData.simulateAllIO, sealDwell:= HMIData.sealBarDwell, sealCool := HMIData.sealBarCool , sealWireOutput=> oSealWire);\t\n\nIBDMotor( \n\taxisData := AxisData.IBD,\n\tcommStatus := _axisCommsStatus,\n\tjogForwardCMD := HMIData.IBDJogClosed,\n\tjogReverseCMD := HMIData.IBDJogOpen,\n\tiActualPosition := ,\n\tiActualVelocity := ,\n\tiModeOfOperation := ,\n\tiStatusword := ,\n\toControlword => ,\n\toModeOfOperation => ,\n\toTargetPosition => ,\n\toProfileAcceleration => ,\n\toProfileDeceleration => ,\n\toProfileVelocity => \n);\n\nIBD(\n\t\n);\nIBD.OptionInstalled := HMIData.IBDInstalled;\nIBD.OptionEnabled := HMIData.IBDInUse AND  HMIData.IBDInstalled;\n\n\nbarcodeVerifier(\n\tdryCycleEnable:=HMIData.dryCycleEnable,\n\tfeedSpeed := HMIData.printSpeed, \n\tpositionOffset := HMIData.barcodeStartPosition, \n\tdistanceToScan := HMIData.barcodeScanDistance, \n\treadGoodInput := iBarcodeOK, \n\tbadReadInput := iBarcodeNG, \n\tbadReadFaultCountSetting := HMIData.barcodeBadReadFaultSetting, \n\ttriggerScannerOutput => oTriggerBCV, \n\tcurrentGoodReadCount => HMIData.barcodeGoodReadCount, \n\tcurrentBadReadCount => HMIData.barcodeBadReadCount\n);\nbarcodeVerifier.OptionInstalled := HMIData.barcodeVerifierInstalled;\nbarcodeVerifier.OptionEnabled := HMIData.barcodeVerifierInUse AND HMIData.barcodeVerifierInstalled;\t\n\n\t\nbagDeliveryFrontMotor(\n\taxisData := AxisData.FilmFeed,\n\tjogProfile := AxisData.FilmFeedJogMotionProfile,\n\tjogForwardCMD := HMIData.jogFilmForward,\n\tjogReverseCMD := HMIData.jogFilmReverse,\t\n\tcommStatus := TRUE,\n\tiActualPosition := iFilmFeedAxisPositionActualValue,\n\tiActualVelocity := iFilmFeedAxisVelocityActualValue,\n\tiErrorCode := iFilmFeedAxisErrorcode,\n\tiModeOfOperation := iFilmFeedAxisModesOfOperationDisplay,\n\tiStatusword := iFilmFeedAxisStatusword,\n\toControlword => oFilmFeedAxisControlword,\n\toModeOfOperation => oFilmFeedAxisModesOfOperation,\n\toTargetPosition => oFilmFeedAxisTargetPosition,\n\toProfileAcceleration => oFilmFeedAxisProfileAcceleration,\n\toProfileDeceleration => oFilmFeedAxisProfileDeceleration,\n\toProfileVelocity => oFilmFeedAxisProfileVelocity,\n\toProfilePushCurrent => oFilmFeedAxisPushCurrent,\n\toProfileOperationalCurrent => oFilmFeedAxisBaseCurrent,\n\tdefaultCurrent := 100.0\n);\nbagDelivery(\n\tdryCycleEnable:=HMIData.dryCycleEnable,\n\tprinter:= PLC_PRG_1.EM01_SXBaggerHead.printer, \n\tbagLength:= HMIData.bagLength, \n\tfeedSpeed:= TO_REAL(HMIData.bagForwardSpeed), \n\treverseSpeed:= TO_REAL(HMIData.bagReverseSpeed), \n\tprintSpeed:= TO_REAL(HMIData.printSpeed), \n\treverseOffset := HMIData.reverseOffset,\n\tprintOffset:= HMIData.printOffset, \n\tprintLength:= HMIData.printLength, \n\tmaxReverseSetpoint:= 4, \n\tsealOffset:= HMIData.bagSkirtLength, \n\tdistanceFromSealBarToBagEdge:= GlobalData.SEAL_TO_PHOTOEYE_DISTANCE, \n\tdistanceFromNipToBagEdge:= , \n\tbagPresent:= iBagEdgePhotoeye,  \n\tbagDeliveryMotor:= bagDeliveryFrontMotor\n);\nbagDelivery.OptionInstalled := TRUE;\nbagDelivery.OptionEnabled := TRUE;\t\t\n","LineInfoPersistence":"(string)4a3b0a31-b91a-42eb-be56-c5b4696b10b3_Impl_LineIds"}}}},"Interface":{"@Type":"a9ed5b7e","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)FUNCTION_BLOCK EM01_BaggerCM\nVAR_INPUT\n\tinhibitMotion:BOOL := FALSE;\nEND_VAR\nVAR_OUTPUT\n\t\n\tVacuumCups : FB_BaseVacuum(name := 'Pneumatic Vacuum Cups') := (_optionEnabled := FALSE, _optionInstalled := FALSE);\n\tsealWire : FB_SealWire(name := 'Seal Wire') := (_optionEnabled := TRUE, _optionInstalled := TRUE);\n\t\n\tBOF : FB_BaseBagOpenFingers(name := 'Dummy BOF') := (_optionEnabled := FALSE, _optionInstalled := FALSE);\n\t\n\t//singleMotorClampingPassthrough :  FB_SingleMotorPressureBar(name := 'Dual Motor Jaw') := (_optionEnabled := TRUE, _optionInstalled := TRUE);\n\tdualMotorPassthrough : FB_DualMotorPressureBar_Async(name := 'Dual Motor Jaw') := (_optionEnabled := TRUE, _optionInstalled := TRUE);\n\tSealFlatteners : FB_BaseSealFlatteners(name := 'Dummy Seal Flatteners') := (_optionEnabled := FALSE, _optionInstalled := FALSE); \n\t\n\tjawFrontMotor : FB_AZDKAxis := (defaultCurrent := 100);\n\t//jawRearMotor : FB_AZDKAxis := (defaultCurrent := 100);\n\t\n\tclampingMechanism : FB_ClampingMechanism(name := 'Clamping Mechanism') := (_optionEnabled := TRUE, _optionInstalled := TRUE);\n\t\n\tprintHeadActuator : FB_ElectricSolenoid(name := 'Print Head Actuator');\n\tlabelPrinter : FB_ZebraPrinter(name := 'Zebra Label Printer') := (_optionEnabled := FALSE, _optionInstalled := TRUE);\n\t\n\t\n\tIBDMotor : FB_AZDKAxis := (DefaultCurrent := 100);\n\tIBD : FB_BaseIBD(name := 'Motorized IBD');\n\t\n\tbarcodeVerifier : FB_BaseBCV(name := 'Barcode Verifier');\n\t\n\n\t//bagDelivery : FB_1195BagDelivery(name := 'Bag Delivery');\n\tbagDelivery : FB_1195_Test_BagDelivery(name := 'Bag Delivery');\n\tbagDeliveryFrontMotor : FB_AZDKAxis;\t\nEND_VAR\nVAR\n\t_axisCommsStatus : BOOL;\n\t_driveState : DED.DEVICE_STATE;\n\toAxis3TargetPosition: DINT;\n\tfirstScanDone: BOOL:=TRUE;\n\thomeSensorCTU : CTU;\n\tSTEPS_PER_INCH_IBD: INT;\n\nEND_VAR","LineInfoPersistence":"(string)4a3b0a31-b91a-42eb-be56-c5b4696b10b3_Decl_LineIds"}}}},"UniqueIdGenerator":"(string)3886","POULevel":{"@Type":"8e575c5b:Enum","@Value":"Standard"},"ChildObjectGuids":{"@Type":"ArrayList:IList","@Value":[]},"AddAttributeSubsequent":"(bool)False"}},"TypeInfos":{"0db3d7bb":"{0db3d7bb-cde0-4416-9a7b-ce49a0124323}","3b83b776":"{3b83b776-fb25-43b8-99f2-3c507c9143fc}","6f9dac99":"{6f9dac99-8de1-4efc-8465-68ac443b7d08}","8e575c5b":"{8e575c5b-1d37-49c6-941b-5c0ec7874787}","a9ed5b7e":"{a9ed5b7e-75c5-4651-af16-d2c27e98cb94}","ArrayList":"System.Collections.ArrayList","bool":"System.Boolean","f3878285":"{f3878285-8e4f-490b-bb1b-9acbb7eb04db}","string":"System.String"}}},"FormatVersion":"1.0"}